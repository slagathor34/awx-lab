---
- name: Ensure primary zone is present
  community.windows.win_dns_zone:
    name: '{{ dns_zone_primary }}'
    type: primary
    replication: domain
    state: present
  tags: CreateDNSZone

- name: Create static record
  community.windows.win_dns_zone:
    name: '{{ A_record_name }}'
    type: '{{ record_type }}'
    value: '{{ ip_address }}'
    state: 'Present'
    zone: "brainstormes.org"
  tags: CreateARecord